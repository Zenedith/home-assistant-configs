homeassistant:
  # Name of the location where Home Assistant is running
  name: Home
  # Location required to calculate the time the sun rises and sets
  latitude: !secret home_latitude
  longitude: !secret home_longitude
  # Impacts weather/sunrise data (altitude above sea level in meters)
  elevation: 100
  # metric for Metric, imperial for Imperial
  unit_system: metric
  # Pick yours from here: http://en.wikipedia.org/wiki/List_of_tz_database_time_zones
  time_zone: Europe/Warsaw
  # Customization file
  #  customize: !include customize.yaml
  customize_glob:
    "*.*":
      custom_ui_state_card: state-card-custom-ui
  customize: !include_dir_merge_named customizations
  packages: !include_dir_named packages

# Show links to resources in log and frontend
#introduction:
logger:
  default: info

webhook:
zigbee2mqtt_networkmap:

panel_iframe:
  networkmap:
    title: 'Zigbee Map'
    url: '/local/zigbee2mqtt_networkmap/map.html'
    icon: 'mdi:graphql'

# Enables the frontend
frontend:
  javascript_version: latest
  extra_html_url:
    - /local/custom_ui/fontawesome/hass-fontawesome-solid.html
    - /local/custom_ui/fontawesome/hass-fontawesome-regular.html
    - /local/custom_ui/fontawesome/hass-fontawesome-brands.html

# Enables configuration UI
config:
zeroconf:

lovelace:
  mode: yaml

#customizer:
#  custom_ui: local

http:
  base_url: !secret base_url
  ssl_certificate: !secret ssl_certificate_path
  ssl_key: !secret ssl_key_path

# Checks for available updates
# Note: This component will send some information about your system to
# the developers to assist with development of Home Assistant.
# For more information, please see:
# https://home-assistant.io/blog/2016/10/25/explaining-the-updater/
updater:
  # Optional, allows Home Assistant developers to focus on popular components.
  include_used_components: true

custom_updater:
  show_installable: false
  hide_sensor: false
  track:
    - components
    - cards
    - python_scripts
  component_urls:
  #- https://raw.githubusercontent.com/pnbruckner/homeassistant-config/master/custom_components.json
  card_urls:
    - https://raw.githubusercontent.com/kalkih/mini-media-player/master/tracker.json
    - https://raw.githubusercontent.com/kalkih/mini-graph-card/master/tracker.json
    - https://raw.githubusercontent.com/maykar/custom-lovelace/master/tracker.json
    - https://raw.githubusercontent.com/ljmerza/waze-card/master/updater.json


# Discover some devices automatically
discovery:
  ignore:
    - yeelight
    - apple_tv
    - axis
    - belkin_wemo
    - bluesound
    - bose_soundtouch
    - directv
    - denonavr
    - enigma2
    - frontier_silicon
    - harmony
    - ikea_tradfri
    - igd
    - logitech_mediaserver
    - netgear_router
    - openhome
    - octoprint
    - panasonic_viera
    - philips_hue
    - plex_mediaserver
    - roku
    - sabnzbd
    - samsung_printer
    - sonos
    - songpal
    - tellstick
    - wink
    - yamaha
    - xiaomi_gw
    - samsung_tv

# Allows you to issue voice commands from the frontend in enabled browsers
#conversation:

# Enables support for tracking state changes over time
history:
  exclude:
    domains:
      - automation
      - weblink

recorder:
  purge_interval: 3
  purge_keep_days: 90
  db_url: sqlite:////home/homeassistant/.homeassistant/home-assistant_v2_recorder.db
  exclude:
    domains:
      - automation
      - weblink
      - updater
    entities:
      - sun.sun # Don't record sun data
      - sensor.last_boot # Comes from 'systemmonitor' sensor platform
      - sensor.date


# View all events in a logbook
logbook:

# Enables a map showing the location of tracked devices
map:
zone: !include_dir_merge_list zones

# Track the sun
sun:

ffmpeg:
  ffmpeg_bin: /usr/bin/ffmpeg

camera_view: live
stream:

# Text to speech
tts:
  - platform: google_translate
    service_name: google_say
    cache: true
    cache_dir: /tmp/tts
    time_memory: 300
    base_url: !secret base_url

#whitelist_external_dirs:
#  - /config

camera: !include cameras/dafang.yaml
timer: !include timer/timer.yaml
group: !include_dir_named groups
automation: !include_dir_merge_list automation
script: !include_dir_named scripts
sensor: !include_dir_merge_list sensors
binary_sensor: !include_dir_merge_list binary_sensors
weblink: !include weblink.yaml
switch: !include_dir_merge_list switches
cover: !include cover/shellys.yaml
input_boolean: !include input_boolean.yaml
input_select: !include_dir_merge_named input_selects
#weather: !include weather/darksky.yaml
light: !include_dir_merge_list lights
media_player: !include_dir_merge_list media_player
yeelight: !include yeelight/yeelight.yaml

#shell_command:
#  rename_snapshots_dafang: 'bash /home/homeassistant/.homeassistant/bash_scripts/renameSnapshotsDafang.sh'

#media_extractor:
#  default_query: best

default_config:

speedtestdotnet:
  server_id: 7202
  monitored_conditions:
    - ping

mqtt:
  discovery: false
  broker: !secret mqtt_broker
  port: !secret mqtt_port
  username: !secret mqtt_username
  password: !secret mqtt_password

vacuum:
  - platform: xiaomi_miio
    host: 192.168.1.133
    name: zmietekv2
    token: !secret vacuum

notify:
  - name: mypushbullet
    platform: pushbullet
    api_key: !secret pushbullet_api_key

climate:
  - platform: eq3btsmart
    devices:
      pokoj-janka:
        mac: '00:1A:22:0C:1A:F2'
      sypialnia:
        mac: '00:1A:22:0C:1A:EF'
      salon:
        mac: '00:1A:22:11:5D:B3'

asuswrt:
  host: 192.168.1.1
  username: !secret device_tracker_asus_username
  password: !secret device_tracker_asus_password
  sensors:
    - upload
    - download
    - upload_speed
    - download_speed

device_tracker:
  - platform: asuswrt
    host: 192.168.1.1
    username: !secret device_tracker_asus_username
    password: !secret device_tracker_asus_password
    interval_seconds: 60
    new_device_defaults:
      track_new_devices: false
      hide_if_away: true

google_assistant:
  project_id: !secret google_assistant_project_id
  api_key: !secret google_assistant_api_key
  exposed_domains:
    - switch
    - light
    - vacuum
    - climate
    - cover
    - media_player
  entity_config:
    cover.dafang_move_leftright:
      expose: false
    cover.dafang_move_updown:
      expose: false
    switch.dafang_blue_led:
      expose: false
    switch.dafang_h264_rtsp_server:
      expose: false
    switch.dafang_ir_filter:
      expose: false
    switch.dafang_ir_led:
      expose: false
    switch.dafang_mjpeg_rtsp_server:
      expose: false
    switch.dafang_motion_detection:
      expose: false
    switch.dafang_motion_send_mail:
      expose: false
    switch.dafang_motion_tracking:
      expose: false
    switch.dafang_night_mode:
      expose: false
    switch.dafang_night_mode_auto:
      expose: false
    switch.dafang_yellow_led:
      expose: false
