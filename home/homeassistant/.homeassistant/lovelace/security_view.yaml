title: Security
icon: mdi:security-home
background: center / cover no-repeat url("/local/lovelace/background-15.gif") fixed
cards:
  - type: vertical-stack
    cards:
      - type: custom:card-modder
        card:
#          title: Kamera
          type: picture-elements
          image: /local/lovelace/security/alarm_3.jpg
          elements:
            - type: state-icon
              entity: switch.kamera
              style: {color: white, left: 15%, top: 88%}
            - type: state-label
              entity: switch.kamera
              prefix: 'Alarm: '
              style: {color: white, left: 32%, top: 88%}
              tap_action:
                action: toggle
        style:
          background-image: url("/local/lovelace/cardbackK.png")
          background-repeat: no-repeat
          background-color: rgba(50,50,50,0.3)
          background-size: 100% 68px
          border-radius: 20px
          border: solid 1px rgba(100,100,100,0.3)
          box-shadow: 3px 3px rgba(0,0,0,0.4)
          overflow: hidden

  #      - type: custom:card-modder
  #        card:
  #          type: picture-elements
  #          #title: Smoke Detectors
  #          image: /local/lovelace/security/smoke_4.jpg
  #          elements:
  #            - type: state-icon
  #              entity: binary_sensor.smoke_sensor_158d0001b8ddc7
  #              style: {color: white, left: 15%, top: 88%}
  #            - type: state-label
  #              entity: binary_sensor.smoke_sensor_158d0001b8ddc7
  #              prefix: 'Downstairs: '
  #              style: {color: white, left: 32%, top: 89%}
  #
  #        style:
  #          background-image: url("/local/lovelace/cardbackK.png")
  #          background-repeat: no-repeat
  #          background-color: rgba(50,50,50,0.3)
  #          background-size: 100% 68px
  #          border-radius: 20px
  #          border: solid 1px rgba(100,100,100,0.3)
  #          box-shadow: 3px 3px rgba(0,0,0,0.4)
  #          overflow: hidden

  - type: vertical-stack
    cards:
      - type: custom:card-modder
        card:
          type: picture-elements
#          title: Drzwi
          image: /local/lovelace/security/door_3.png
          elements:
            - type: state-icon
              entity: binary_sensor.drzwi_wejsciowe_contact
              style: {color: white, left: 15%, top: 82%}
            - type: state-label
              entity: binary_sensor.drzwi_wejsciowe_contact
              prefix: 'Wejściowe: '
              style: {color: white, left: 15%, top: 92%}
            - type: state-icon
              entity: binary_sensor.drzwi_balkonowe_contact
              style: {color: white, left: 60%, top: 88%}
            - type: state-label
              entity: binary_sensor.drzwi_balkonowe_contact
              prefix: 'Balkonowe: '
              style: {color: white, left: 77%, top: 89%}
        style:
          background-image: url("/local/lovelace/cardbackK.png")
          background-repeat: no-repeat
          background-color: rgba(50,50,50,0.3)
          background-size: 100% 68px
          border-radius: 20px
          border: solid 1px rgba(100,100,100,0.3)
          box-shadow: 3px 3px rgba(0,0,0,0.4)
          overflow: hidden

      - type: custom:card-modder
        card:
          type: picture-elements
#          title: Okna
          image: /local/lovelace/security/window_2.jpg
          elements:
            - type: state-icon
              entity: binary_sensor.okno_janek_contact
              style: {color: white, left: 25%, top: 82%}
            - type: state-label
              entity: binary_sensor.okno_janek_contact
              prefix: 'Janek: '
              style: {color: white, left: 25%, top: 92%}
            - type: state-icon
              entity: binary_sensor.okno_sypialnia_contact
              style: {color: white, left: 60%, top: 88%}
            - type: state-label
              entity: binary_sensor.okno_sypialnia_contact
              prefix: 'Sypialnia: '
              style: {color: white, left: 77%, top: 89%}
        style:
          background-image: url("/local/lovelace/cardbackK.png")
          background-repeat: no-repeat
          background-color: rgba(50,50,50,0.3)
          background-size: 100% 68px
          border-radius: 20px
          border: solid 1px rgba(100,100,100,0.3)
          box-shadow: 3px 3px rgba(0,0,0,0.4)
          overflow: hidden

  - type: vertical-stack
    cards:
      - type: custom:card-modder
        card:
          type: picture-elements
#          title: Motion Sensors
          image: /local/lovelace/security/motion_2.jpg
          elements:
            - type: state-icon
              entity: binary_sensor.lazienka_motion_occupancy
              style: {color: white, left: 25%, top: 82%}
            - type: state-label
              entity: binary_sensor.lazienka_motion_occupancy
              prefix: 'Łazienka: '
              style: {color: white, left: 25%, top: 92%}
            - type: state-icon
              entity: binary_sensor.sypialnia_motion_occupancy
              style: {color: white, left: 50%, top: 82%}
            - type: state-label
              entity: binary_sensor.sypialnia_motion_occupancy
              prefix: 'Sypialnia: '
              style: {color: white, left: 50%, top: 92%}
            - type: state-icon
              entity: binary_sensor.janek_motion_occupancy
              style: {color: white, left: 75%, top: 82%}
            - type: state-label
              entity: binary_sensor.janek_motion_occupancy
              prefix: 'Janek: '
              style: {color: white, left: 75%, top: 92%}
            - type: state-icon
              entity: binary_sensor.korytarz_motion_occupancy
              style: {color: white, left: 50%, top: 8%}
            - type: state-label
              entity: binary_sensor.korytarz_motion_occupancy
              prefix: 'Korytarz: '
              style: {color: white, left: 50%, top: 18%}
        style:
          background-image: url("/local/lovelace/cardbackK.png")
          background-repeat: no-repeat
          background-color: rgba(50,50,50,0.3)
          background-size: 100% 68px
          border-radius: 20px
          border: solid 1px rgba(100,100,100,0.3)
          box-shadow: 3px 3px rgba(0,0,0,0.4)
          overflow: hidden

      - type: custom:card-modder
        card:
          type: picture-elements
#          title: Zalanie
          image: /local/lovelace/security/leak_2.png
          elements:
            - type: state-icon
              entity: binary_sensor.kuchnia_leak_water_leak
              style: {color: white, left: 15%, top: 88%}
            - type: state-label
              entity: binary_sensor.kuchnia_leak_water_leak
              prefix: 'Kuchnia: '
              style: {color: white, left: 32%, top: 89%}
            - type: state-icon
              entity: binary_sensor.lazienka_leak_water_leak
              style: {color: white, left: 60%, top: 88%}
            - type: state-label
              entity: binary_sensor.lazienka_leak_water_leak
              prefix: 'Łazienka: '
              style: {color: white, left: 77%, top: 89%}
        style:
          background-image: url("/local/lovelace/cardbackK.png")
          background-repeat: no-repeat
          background-color: rgba(50,50,50,0.3)
          background-size: 100% 68px
          border-radius: 20px
          border: solid 1px rgba(100,100,100,0.3)
          box-shadow: 3px 3px rgba(0,0,0,0.4)
          overflow: hidden

  - type: vertical-stack
    cards:
      - type: custom:card-modder
        card:
          type: entities
          title: Security
          show_header_toggle: false
          entities:
            - script.everything_off
            - script.everything_off_secure
            - group.all_switches
            - group.all_lights
        style:
          background-image: url("/local/lovelace/cardbackK.png")
          background-repeat: no-repeat
          background-color: rgba(50,50,50,0.3)
          background-size: 100% 200px
          border-radius: 20px
          border: solid 1px rgba(100,100,100,0.3)
          box-shadow: 3px 3px rgba(0,0,0,0.4)

  - type: vertical-stack
    cards:
      - type: conditional
        conditions:
          - entity: switch.kamera
            state: "on"
        card:
          type: picture-entity
          entity: camera.dafang
          camera_image: camera.dafang
      - type: conditional
        conditions:
          - entity: switch.kamera
            state: "on"
        card:
           type: custom:surveillance-card
            thumb_interval: 15
            update_interval: 2
            cameras:
              - entity: camera.dafang
                motion_entity: binary_sensor.dafang_motion_sensor
      - type: conditional
        conditions:
          - entity: switch.kamera
            state: "on"
        card:
          type: entities
          entities:
            - camera.dafang
            - switch.dafang_h264_rtsp_server
            - sensor.dafang
            - device_tracker.dafang
            - sensor.dafang_light_sensor
            - switch.dafang_night_mode
            - switch.dafang_night_mode_auto
            - switch.dafang_motion_detection
            - switch.dafang_motion_tracking
            - camera.dafang_motion_snapshot
            - binary_sensor.dafang_motion_sensor
            - cover.dafang_move_leftright
            - cover.dafang_move_updown
            - type: weblink
              url: http://dafang
            - type: weblink
              url: rtsp://dafang:8554/unicast
