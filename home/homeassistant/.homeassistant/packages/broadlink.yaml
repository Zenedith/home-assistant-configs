switch:
  - platform: broadlink
    friendly_name: broadlink
    timeout: 15
    host: 192.168.1.163
    mac: '78:0F:77:D9:23:FA'
    type: rm_mini
    switches:
      denon_power:
        friendly_name: "Denon power"
        command_on: "JgD6AAkaCD0JGgkaCBsIPQoZCRoIGwgaCT0IPgg9CBsIGwgABe8LGAk9ChkIGgkaCRoIPQk9CD4KOwoZCBsIGgk9CD4KAAYzChkIPQkaCBsIGwg9CRoIGwgaCRoJPQg9CT0IGwgaCQADywgAAhwKGQo8ChgJGgkaCBsIPQk9CD4KOwoZCBsIGgk9CD0LAAYzChkIPQoZCBsIGwg9ChkIGwoYCRoJPQo7CjwKGQgaCQAF7wsYCjwIGgoZChkIGwg9CjwKNg88ChkKGAkaCT0KOwoABjQKGQg3DxoIGwgbCD0KGQoZCBoJGgk9CjsKPAgbCBoJAAP3CQAGbAgADQUAAAAAAAAAAAAAAAAAAA=="
        command_off: "JgCOAAgaCl0IGgk8CV8IGghfCjoGPwcbCgAFxQgbBj4LOgccCjoHHAp/CDwLOgsXBj8HPQsABaIKGAc+CRoJOwsYBz4GHAc+CjoHggkaBhwKAAWjChgKOwgaCRoJGgg8CBoIPQY+Cl0KGApeCTsGAAWmCxgHPgoYBh0GHApdChgKGQYcCjwIOwc+CRoIGggADQUAAAAAAAAAAAAA"
      denon_volume:
        friendly_name: "Denon volume"
        command_on: "JgAeAwkaCT0IGgkaCRoIOwsaCRoJGgg9CT0JPQg9CRoIGwgAA3kIAAJFCRoIPQkaCRoJGggbCD0JPQg9CRoIGwgbCBoJPQg9CgAFGwgAAS0IGwg9CRoIGwgaCT0IGwgbCBoJPQg9CT0IPggaCRoJAAXGCBoJPQgbCBsIGgkaCT0IPQk9CBsIGgkaCRoIPQk9CAAGUQkaCT0IGgkaCRoIPggaCRoJGgg9CT0IPgg9CRoIGwgABcYJGgg9CRoJGggbCBoJPQg+CD0JGggbCBoJGgk9CD0JAAZRCBsIPQkaCBsIGwg9CRoIGwgaCT0IPQk9CD4IGgkaCQAFxggaCT0IGwgaCRoJGgg+CD0JPQgaCRoJGggbCD0JPQgAAZcJAASxCRoIPggaCRoJGgg9CRoJGggbCD0JPQg9CT0IGwgbCAAFxgoZCD0JGgkaCBsIGwg9CT0IPQkaCBsIGgkaCT0IPQkABlEIGwg9CRoIGwgaCT0IGwgbCBoJPQg9CT0IPggaCRoJAAXFCRoJPQgbCBoJGgkaCD0JPQg+CBoJGgkaCBsIPQk9CAAGUQkaCT0IGgkaCRoIPggaCRoJGgg9CT0IPgg9CRoIGwhPCQAFbggbCD0JGgkaCBsIGgk9CD4IPQkaCBsIGgkaCT0IPQkABlEIGgk9CBsIGwgaCT0IGwgaCRoJPQg9CT0IPQkaCRoIAAXHCBoJPQgbCBoJGgkaCD4IPQk9CBoJGgkaCBsIPQk9CAAGUQkaCD4IGgkaCRoIPggaCRoIGwg9CT0IPQk9CBsIGwgABcYIGwg9CRoIGwgbCBoJPQg9CT0JGggbCBoJGgk4DT0JAAZRCBsIPQkaCBsIGgk9CBsIGwgaCT0IPQk9CD0JGgkaCQAFxQkaCT0IGwgaCRoJGgg+CD0IPggaCRoJGggbCD0JPQoABk8JGgg9CRoJGggbCD0JGgkaCBsIPQk9CD0JPQgbCBoJAAXGCBoJPQkaCRoIGwgaCT0IPgg9CRoIGwgaCRoJPQg9CQAGMgkWCBsIPQkaCBsIGgk9CBsIGwgaCT0IPQk9CD4IGgkaCQANBQAAAAAAAAAAAAA="
        command_off: "JgC0AggAC50HAAFDCQACiQkAAokJAAYOCRoJPQgbCBoJGgkaCD4IGgkaCD4IPQk9CD0JGggbCAAFxgkaCD4IGgkaCRoIPQkaCT0IPQkaCRoIGwgaCT0IPggABlEJGgg9CRoJGggbCBsIPQgbCBsIPQk9CD0JPQgbCBoJAAXGCBsIPQkaCRoIGwg9CRoIPgg9CBsIGwgaCRoJPQg9CQAGUQgbCD0JGggbCBoJGgk9CBsIGgk9CD0JPQg+CBoJGgkABBcJAAGlCRoJPQgbCBoJGgk9CBsIPQg+CBoJGgkaCBsIPQk9CAAFngirCRoJPQgbCBoJGgkaCD0JGgkaCD4IPQk9CD0JGggbCAAFxgkaCD4IGgkaCRoIPQkaCT0IPQkaCRoIGwgaCT0IPggAAe0KAARaCRoIPQkaCRoIGwgbCD0IGwgbCD0JPQg9CT0IGwgaCQAFxggbCD0JGggbCBsIPQkaCD0JPQgbCBsIGgkaCT0IPQkABlEIGwg9CBsIGwgaCRoJPQgbCBoJPQg9CT0IPggaCRoJAALyBwACzAkaCT0IGwgaCRoJPQgbCD0IPggaCRoJGggbCD0JPQgABlEJGgk9CBsIGgkaCRoIPQkaCRoIPgg9CT0IPQkaCBsIAASCCgABOgkaCD4IGgkaCRoIPQkaCT0IPQkaCBsIGwgaCT0IPggABlEIGwg9CRoJGggbCBoJPQgbCBsIPQk9CD0JPQgbCBoJAANECQACeQgbCD0JGggbCBsIPQkaCD0JPQgbCBsIGgkaCT0IPQkABPcJAAFRCBsIPQgbCBsIGgkaCToLGwgaCT0IPQk9CD4IGgkaCAAFxgsYCT0IGwgaCRoJPQgaCT0IPggaCRoJGggbCD0JPQgABlEJGgg+CBoJGgkaCBsIPQkaCRoIPQk9CD0JPQgbCBsIAA0FAAAAAA=="

input_boolean:
  broadlink_denon_receiver:
    name: Denon
    icon: mdi:surround-sound

input_select:
  broadlink_denon_input:
    name: Denon Input
    initial: TV
    options:
      - 'TV'
      - 'Tuner'

automation:
  - alias: Denon Receiver On
    trigger:
      - platform: state
        entity_id: input_boolean.broadlink_denon_receiver
        to: 'on'
    action:
      - service: switch.broadlink_send_packet_192_168_1_163
        data:
          packet:
            - "JgD6AAkaCD0JGgkaCBsIPQoZCRoIGwgaCT0IPgg9CBsIGwgABe8LGAk9ChkIGgkaCRoIPQk9CD4KOwoZCBsIGgk9CD4KAAYzChkIPQkaCBsIGwg9CRoIGwgaCRoJPQg9CT0IGwgaCQADywgAAhwKGQo8ChgJGgkaCBsIPQk9CD4KOwoZCBsIGgk9CD0LAAYzChkIPQoZCBsIGwg9ChkIGwoYCRoJPQo7CjwKGQgaCQAF7wsYCjwIGgoZChkIGwg9CjwKNg88ChkKGAkaCT0KOwoABjQKGQg3DxoIGwgbCD0KGQoZCBoJGgk9CjsKPAgbCBoJAAP3CQAGbAgADQUAAAAAAAAAAAAAAAAAAA=="

  - alias: Denon Receiver Off
    trigger:
      - platform: state
        entity_id: input_boolean.broadlink_denon_receiver
        to: 'off'
    action:
      - service: switch.broadlink_send_packet_192_168_1_163
        data:
          packet:
            - "JgCOAAgaCl0IGgk8CV8IGghfCjoGPwcbCgAFxQgbBj4LOgccCjoHHAp/CDwLOgsXBj8HPQsABaIKGAc+CRoJOwsYBz4GHAc+CjoHggkaBhwKAAWjChgKOwgaCRoJGgg8CBoIPQY+Cl0KGApeCTsGAAWmCxgHPgoYBh0GHApdChgKGQYcCjwIOwc+CRoIGggADQUAAAAAAAAAAAAA"

  - alias: Select Denon Input TV
    trigger:
      - platform: state
        entity_id: input_select.broadlink_denon_input
        to: 'TV'
    action:
      - service: switch.broadlink_send_packet_192_168_1_163
        data:
          packet:
            - "JgB8AAkaCV4IGgs6CF8IGgs6CjsGPwgaCQAFxAkcCDwKOwgaC34LXAk8Cl0IGgc+CDwLAAWiCRkHPggaCTwJGgleCTwIGgmACBoHHAgABccJPAYcCBsIXwg8Cl0MfQgbC1wIPAYABacKXQgaBxwHGwo7CD0IPQhfCDwJPAgADQUAAAAAAAAAAAAAAAA="

  - alias: Select Denon Input Tuner
    trigger:
      - platform: state
        entity_id: input_select.broadlink_denon_input
        to: 'Tuner'
    action:
      - service: switch.broadlink_send_packet_192_168_1_163
        data:
          packet:
            - "JgCAAAgaCV4JGghfCF8IGgg9CDwKOwgaCQAFxgoZCDwKOwkaCV4JXgg8CToJGwgbBj4HPggABaQJGgg9CBoIPQg7CV8IPQgaCYEIGggbBgAFyQg8CBsGHAg9CDwJXgk8Bj8IGghfCDwIAAWlCl0KGAgbBhwJXgk8CD0IXwg8CjsIAA0FAAAAAAAAAAA="
